# name: CD_OceanToken

# on:
#   create:
#     branches:
#       - "**"

# jobs:
#   build:
#     runs-on: macos-13
#     steps:
#       - name: Checkout the code
#         uses: actions/checkout@v2
#         with:
#           # Check out as an admin to allow for pushing back to master
#           token: ${{ secrets.GH_TOKEN }}
#           # We need to fetch all tags and branches
#           fetch-depth: 0
#           ref: ${{ github.head_ref || github.ref_name }} 

#       - name: Select xcode version
#         uses: maxim-lobanov/setup-xcode@v1
#         with:
#           xcode-version: '15.0.1'

#       - name: Set git identity
#         run: |
#           git config --global user.name "Blu Release Bot"
#           git config --global user.email "devs@useblu.com.br"

#       - name: Bundle install
#         run: bundle install

#       - name: Install mint
#         run: brew install mint

#       - name: Install swiftgen
#         run: mint install SwiftGen/SwiftGen

#       - name: Update tokens
#         run: sh update_tokens.sh

#       - name: Increment version cocoapod
#         run: |
#           LATEST_VERSION_TOKENS_LIB_NPM=`npm show @useblu/ocean-tokens version`
#           rm OceanTokens.podspec
#           rm OceanComponents.template
#           cp -fR OceanTokens.template OceanTokens.podspec
#           cp -fR OceanComponents.token.template OceanComponents.template
#           sed -i '' "s/#VERSION_NAME#/'$LATEST_VERSION_TOKENS_LIB_NPM-$GITHUB_RUN_NUMBER'/g" OceanTokens.podspec
#           sed -i '' "s/#VERSION_NAME_TOKEN#/'$LATEST_VERSION_TOKENS_LIB_NPM-$GITHUB_RUN_NUMBER'/g" OceanComponents.template

#       - name: Commit changes
#         run: |
#           LATEST_VERSION_TOKENS_LIB_NPM=`npm show @useblu/ocean-tokens version`
#           git add . && git commit -am "chore: update tokens v$LATEST_VERSION_TOKENS_LIB_NPM [skip ci]" && git push origin $BRANCH_NAME
#           git tag -a "OceanTokens-$LATEST_VERSION_TOKENS_LIB_NPM-$GITHUB_RUN_NUMBER" -m "Release of version OceanTokens $LATEST_VERSION_TOKENS_LIB_NPM-$GITHUB_RUN_NUMBER" && git push --tags
#         env:
#           BRANCH_NAME: ${{ github.head_ref || github.ref_name }} 

#       - name: Fix cocoapod Xcode 15
#         run: |
#           cd /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/
#           sudo git clone https://github.com/kamyarelyasi/Libarclite-Files.git
#           sudo mv Libarclite-Files arc

#       - name: Deploy libary cocoapod OceanTokens
#         run: |
#           pod trunk push OceanTokens.podspec
#         env:
#           COCOAPODS_TRUNK_TOKEN: ${{ secrets.COCOAPODS_TRUNK_TOKEN }}
